---
copyright:
  years: 2014, 2018
lastupdated: "2018-11-15"

subcollection: virtualization
---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# XenServer プーリング
{: #xenserver-pooling}

XenServer プーリングは、1 つのクラスターとして機能する最大 16 台のサーバーと考えることができます。 このクラスターは、リソースの共有を可能にするだけではなく、XenMotion を使用した仮想マシンのライブ・マイグレーションも可能にします。 1 つのサーバーが「マスター・ノード」として機能し、その他のサーバーはスレーブとなります。 XenCenter でプール内のいずれかのサーバーを開くと、プール全体の管理情報が開きます。 ノードがプールに参加すると、そのノードの管理パスワードは、マスター・ノードの管理パスワードと一致するように変更されます。 プールからノードを除去するときには、このパスワードは変更されません。

ノード内のすべてのシステムは、同じプロセッサー・ファミリー (Intel や AMD など) のものでなければなりません。 プーリングを成功させるには、同じハードウェアを使用することが理想的です。 異機種混合の CPU プーリングに互換性の問題がすべて当てはまるわけではありません。 ユーザーが自分で互換性テストを実行してハードウェアに互換性があることを確認する必要があります。 詳しくは、[Understanding heterogeneous CPU pooling ![外部リンク・アイコン](../../icons/launch-glyph.svg "外部リンク・アイコン")](http://support.citrix.com/article/CTX127059){: new_window} を参照してください。

XenServer プールを作成する方法は 2 つあります。 1 つは、XenCenter コンソールの「新規プール (New Pool)」オプションを使用する方法です。 画面に表示されるステップバイステップの簡単な説明に従って、システムを作成し、プールに追加することができます。 もう 1 つはコマンド・ラインを使用する方法です。 新しいスレーブ・ノードで、以下のコマンドを実行できます。

        `xe pool-join master-address= master-username= master-password=`

**注**: デフォルト・インストールを使用した場合は、管理 IP アドレスはサーバーの 10.x.x.x IP アドレスです。

結合ネットワークを使用する場合は、新しく参加させたスレーブのインターフェースが、不適切な結合ネットワークに関連付けられる場合があります。 この問題を解決するには、コマンド・ラインからスレーブの結合を破棄し、正しい PIF とネットワークを指定して結合を再作成してください。

プールからスレーブ・ノードを排出する方法には、次の 2 つがあります。 1 つは、XenCenter を使用する方法です。 **「プール」**に移動し、**「サーバーの除去 (Remove Server)」**を選択します。 画面に表示されるステップバイステップの簡単な説明に従います。 もう 1 つはコマンド・ラインを使用する方法です。 ノードの除去は、プール内の任意のノードから行うことができます。 以下のコマンドを実行して、排出するノードの _uuid_ を見つける必要があります。

        `xe host-list`

その後、次のコマンドを実行します。

        `xe pool-eject uuid=`

**注**: 排出されたノードは、クリーン・インストール環境としてリブートします。そのため、パブリック接続とプライベート接続を提供するために使用していたネットワーキング構成が除去されます。 プールから排出された後も、スレーブ・ノードのパスワードはマスター・ノードと同じままです。 除去したことでスレーブの設定が破棄されるので、IPMI でネットワーキングを再構成しなければならない場合があります。
