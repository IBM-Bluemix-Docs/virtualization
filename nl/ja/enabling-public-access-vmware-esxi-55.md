---
copyright:
  years: 2014, 2018
lastupdated: "2018-11-15"

subcollection: virtualization

keywords: ESXi, VMware
---
{:shortdesc: .shortdesc}
{:tip: .tip}
{:new_window: target="_blank"}

# VMware ESXi へのパブリック・アクセスの有効化
{: #enabling-public-access-to-vmware-esxi}

デフォルトでは、ESXi ホストと一緒にインストールされるサービス・コンソールは、プライベート・ネットワークにしか接続されません。 つまり、ESXi ホスト上ではパブリック・ネットワークとの間でパブリック・トラフィックを送受信できません。

まずは、VMware vSphere Client を使用してサーバーのプライベート・インターフェースに接続する必要があります。

このセットアップを実行するには、サーバーの「プライマリー」のパブリック IP の情報が必要です。 サーバーのパブリック IP については、[{{site.data.keyword.slportal_full}} ![外部リンク・アイコン](../../icons/launch-glyph.svg "外部リンク・アイコン")](https://control.softlayer.com/){: new_window} で確認できます。
{:tip}

ESXi ホストにログインしたら、以下の手順に従ってパブリック・インターフェースを有効にします。

1. 一般には、ルーティングを修正するために、プライベート IP を使用して SSH 接続でサーバーにログインします。
* `esxcfg-route -l` を実行して、現在の経路を確認します。
* `esxcfg-route -a 10.0.0.0/8 [サーバーのプライベート・ゲートウェイ IP]` を実行します。
* `esxcfg-route [サーバーのパブリック・ゲートウェイ]` を実行して、パブリック・ゲートウェイをデフォルトに設定します。

vSphere にログインして、以下の手順を実行します。

1. 「構成」タブをクリックして、**「ネットワーク」**をクリックします。
2. vSwitch1 について、**「プロパティ」>「追加」**をクリックします。
3. **「VM Kernel」**を選択して、**「次へ」**をクリックします。
* この設定はそのままでかまいません。 わかりやすいように、ネットワークのラベルを「VMKernelPublic」に変更しても良いでしょう。
4. サーバーのパブリック IP 情報を入力します。
5. VM カーネルのデフォルト・ゲートウェイを設定するために、**「編集」**をクリックしてパブリック・ゲートウェイ IP を入力し、**「OK」**をクリックします。
* **「OK」**をクリックします。 **注:** 切断は正常で予期される動作です。*

これで、パブリック IP アドレスとプライベート IP アドレスの両方を使用して、サーバーにアクセスできます。

ESXi へのパブリック IP アクセスを有効化することには、固有のセキュリティー・リスクがあります。 ESXi へのアクセスを必要とするユーザーだけがアクセスできるように、適切な対応策を取ってください。
{:tip}
