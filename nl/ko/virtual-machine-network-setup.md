---
copyright:
  years: 2014, 2018
lastupdated: "2018-11-15"

subcollection: virtualization
---
{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# 가상 머신 네트워크 설정
{: #setting-up-a-virtual-machine-network}

새 가상 머신의 네트워크 구성은 몇 단계로 수행됩니다. 공용 및 사설 네트워크 모두에 대해 별도의 휴대용 IP 블록이 필요합니다. VLAN 브로드캐스트 도메인에 보조를 필요로 하는 가상화 오퍼링을 사용 중이고 네트워크 ID/게이트웨이/브로드캐스트가 없는 VLAN 서브넷으로 라우트되지 않는다고 가정합니다. 가상 머신에서 사설 네트워크를 사용할 계획인 아닌 경우, 공용 서브넷만 필요합니다. 휴대용 IP 블록은 [판매->IP 주소 추가 ![외부 링크 아이콘](../../icons/launch-glyph.svg "외부 링크 아이콘")](https://manage.softlayer.com/Sales/orderAdditionalServices/subnet){: new_window}의 포털을 통해서나 [공용 네트워크 IP 관리자 ![외부 링크 아이콘](../../icons/launch-glyph.svg "외부 링크 아이콘")](https://manage.softlayer.com/PublicNetwork/ipManager){: new_window}에서 직접 휴대용 IP 블록을 주문할 수 있습니다. 

IP 블록을 확보하고 나면 가상 머신에서 네트워킹을 구성할 수 있습니다. 가상 머신이 설치되지 않은 경우, 운영 체제 설치 프로세스를 통해 공용 네트워크 블록을 구성할 수 있습니다. 이 프로세스는 공용 네트워크를 구성하는 가장 빠른 방법입니다. 모든 네트워크 구성 단계는 첫 번째 네트워크 인터페이스가 사설 네트워크이고 두 번째 네트워크 인터페이스가 공용 네트워크라고 가정합니다.

각 OS에 대해 네트워크 구성이 다릅니다. 다음 운영 체제에 대한 네트워크 구성에 대한 자세한 정보를 찾을 수 있습니다. **참고:** 그룹화된 운영 체제는 동일한 네트워크 구성을 가집니다.

* Windows 2008 Server Core
* Windows 2003 Standard 및 Enterprise
* Windows 2008 Web, Standard, Enterprise 및 Datacenter
* RedHat, Fedora 및 CentOS
* Ubuntu 및 Debian

네트워크 구성에는 공인 및 사설 IP 블록 둘 다에 대해 다음과 같은 정보가 필요합니다. 이 정보는 [공용 네트워크 -> IP 관리자 ![외부 링크 아이콘](../../icons/launch-glyph.svg "외부 링크 아이콘")](https://manage.softlayer.com/PublicNetwork/ipManager){: new_window} 아래의 공인 IP 블록 및 [가상 네트워크 -> IP 관리자 ![외부 링크 아이콘](../../icons/launch-glyph.svg "외부 링크 아이콘")](https://manage.softlayer.com/PrivateNetwork/ipManager){: new_window} 아래의 사설 IP 블록에 대한 포털에서 찾을 수 있습니다.

    -IP Address
    -Gateway
    -Subnet Mask
    --Subnet conversion
    ---/29 - 255.255.255.248
    ---/28 - 255.255.255.240
    ---/27 - 255.255.255.224
    ---/26 - 255.255.255.192
    ---/25 - 255.255.255.128
    ---/24 - 255.255.255.0

## Windows 2008 Server Core
{: #windows-2008-server-core}

Windows 2008 Server Core 에디션은 시스템 네트워크를 구성하기 위해 그래픽 인터페이스를 제공하지 않습니다. 구성은 명령 프롬프트를 사용하여 수동으로 수행되어야 합니다. 다음 명령을 실행해야 합니다. 이 예제에서 사용되는 IP 주소는 IP 블록의 IP 주소로 교체해야 합니다. 이러한 명령은 [netsh ![외부 링크 아이콘](../../icons/launch-glyph.svg "외부 링크 아이콘")](https://docs.microsoft.com/en-us/previous-versions/tn-archive/bb490939(v=technet.10)){: new_window} 명령가 포함된 Windows Server의 이전 버전과 함께 작동합니다.

**예제 공인 IP 블록 – 192.0.2.0/29**

* IP 주소 – 192.0.2.2
* 게이트웨이 – 192.0.2.1
* 서브넷 마스크 – 255.255.255.248

**예제 사설 IP 블록 – 10.0.0.0/29**

* IP 주소 – 10.0.0.2
* 게이트웨이 – 10.0.0.1
* 서브넷 마스크 – 255.255.255.248

**공용 네트워크**

다음 명령은 서버를 인터넷에 연결하는 공용 네트워크를 작성합니다.

* *Netsh interface ip set address name=”Local Area Connection 2” static 192.0.2.2 255.255.255.248 192.0.2.1*

다음 명령은 DNS 항목을 작성합니다. 사설 네트워크를 사용하지 않는 경우, 이러한 IP 주소를 작동 중인 DNS 서버로 교체해야 합니다.

* *Netsh interface ip add dns “Local Area Connection 2” 10.0.80.11*
* *Netsh interface ip add dns “Local Area Connection 2” 10.0.80.12*

**사설 네트워크**

다음 두 명령은 사설 네트워크를 구성하고 사설 네트워크에 대한 지속적 라우트를 작성합니다. 지속적 라우트는 사설 네트워크에 대한 액세스를 전체 사설 네트워크에 제공합니다. 액세스에는 공용 네트워크 구성에 있는 DNS 서버가 포함됩니다. **참고:** 게이트웨이는 사설 네트워크에 지정되어 있지 않습니다.

* `Netsh interface IP set address name=”Local Area Connection” static 10.0.0.2 255.255.255.248`
* `Route add 10.0.0.0 mask 255.0.0.0 10.0.0.1 -p`

## Windows 2003 Standard 및 Enterprise
{: #windows-2003-standard-and-enterprise}

Windows 2003을 사용하면 명령행 또는 그래픽 사용자 인터페이스 중 하나를 사용하여 네트워킹을 구성할 수 있습니다. 명령행을 사용하려면 Windows 2008 Server Core에 대한 구성 지시사항을 참조하십시오. 이러한 지시사항은 Windows 2003에서도 작동합니다. 여기에서는 그래픽 인터페이스 사용에 대한 지시사항을 제공합니다. 이 예제에서 사용되는 IP 주소는 IP 블록의 IP 주소로 교체해야 합니다. 

**예제 사설 IP 블록 – 10.0.0.0/29**

* IP 주소 – 10.0.0.2
* 게이트웨이 – 10.0.0.1
* 서브넷 마스크 – 255.255.255.248

### 네트워크 구성 열기
{: #opening-your-network-configurations}

1. **시작 메뉴 > 설정 > 제어판**으로 이동하십시오. 
2. **네트워크 연결**을 여십시오.
   **참고:** 두 개의 네트워크 어댑터를 설치한 경우, "로컬 영역 연결" 및 "로컬 영역 연결 2"가 표시됩니다. 

**공용 네트워크**

다음 지시사항을 사용하여 Windows 그래픽 인터페이스를 통해 공용 네트워크를 구성하십시오.

1. **로컬 영역 연결 > 특성**을 마우스 오른쪽 단추로 클릭하고 **내부 프로토콜(TCP/IP) > 특성**을 선택하십시오.
2. **일반 > 다름 IP 주소 사용:**으로 이동하십시오. 
3. 공인 IP 주소, 서브넷 마스크 및 게이트웨이를 입력하십시오. 
4. **다음 DNS 서버 주소 사용:**을 선택하십시오. 사설 네트워크를 구성하는 경우 다음 DNS 서버를 사용하십시오. 사설 네트워크를 구성하지 않는 경우, DNS 서버를 제공해야 합니다.
    * 선호 DNS 서버: 10.0.80.11
    * 대체 DNS 서버: 10.0.80.12
5. **확인**을 클릭하십시오. 

**사설 네트워크**

1. **로컬 영역 연결 2 > 특성**을 마우스 오른쪽 단추로 클릭하고 **내부 프로토콜(TCP/IP) > 특성**을 선택하십시오.
2. **일반 > 다음 IP 주소 사용:**으로 이동하여 사설 IP 주소 및 서브넷 마스크를 입력하십시오. 게이트웨이 필드를 비어 있는 상태로 두고 **확인**을 클릭하십시오.
3. **확인**을 클릭하여 네트워크 구성 창을 닫으십시오. 

DNS 서버를 포함하는 전체 사설 네트워크에 대한 액세스를 제공하려면 서버에 사용자 정의 라우트를 추가해야 합니다. 사설 네트워크 액세스를 제공하려면 다음 단계를 수행하십시오.

1. **시작 > 실행**으로 이동하여 *cmd*를 입력하고 **확인**을 누르십시오.
2. 다음 명령을 실행하십시오. **참고:** 게이트웨이 주소(10.0.0.1)를 사설 IP 블록 게이트웨이로 대체하도록 하십시오.<br/>
*“route add 10.0.0.0 mask 255.0.0.0 10.0.0.1 –p”*

## Windows 2008 Web, Standard, Enterprise 및 Datacenter
{: #windows-2008-web-standard-enterprise-and-datacenter}

Windows 2008이 있는 경우, 명령 프롬프트 또는 그래픽 사용자 인터페이스 중 하나를 사용하여 네트워킹을 구성합니다. 명령 프롬프트를 사용하려는 경우, Windows 2008 Server Core에 대한 구성 지시사항을 참조하십시오. 이러한 지시사항은 모든 2008 서버에서 작동합니다. 여기에서는 그래픽 인터페이스 사용에 대한 지시사항을 제공합니다. 이 예제에서 사용되는 IP 주소는 IP 블록의 IP 주소로 교체해야 합니다. 

**예제 사설 IP 블록 – 10.0.0.0/29**

* IP 주소 – 10.0.0.2
* 게이트웨이 – 10.0.0.1
* 서브넷 마스크 – 255.255.255.248

**네트워크 구성 열기**

1. **시작 메뉴 > 설정 > 제어판**으로 이동하십시오. 
2. **네트워크 및 공유 센터**를 열고 **네트워크 연결 관리**를 클릭하십시오.
* 두 개의 네트워크 어댑터를 설치한 경우, "로컬 영역 연결" 및 "로컬 영역 연결 2"가 표시됩니다.

**공용 네트워크**

다음 지시사항은 Windows 그래픽 인터페이스를 통해 공용 네트워크 구성에 대한 자세한 단계를 제공합니다.

1. **로컬 영역 연결 > 특성**을 마우스 오른쪽 단추로 클릭하십시오.
2. **인터넷 프로토콜 버전 4(TCP/IPv4) 특성**을 선택하십시오.
3. **일반 > 다음 IP 주소 사용:**으로 이동하여 공인 IP 주소, 서브넷 마스크 및 게이트웨이를 입력하십시오.
4. **다음 DNS 서버 주소 사용:**을 선택하십시오. 사설 네트워크를 구성하는 경우 다음 DNS 서버를 사용하십시오. 사설 네트워크를 구성하지 않는 경우, DNS 서버를 제공해야 합니다.
    * 선호 DNS 서버: 10.0.80.11
    * 대체 DNS 서버: 10.0.80.12
5. **확인**을 클릭하십시오. 

**사설 네트워크**

1. **로컬 영역 연결 2 > 특성**을 마우스 오른쪽 단추로 클릭하고 **인터넷 프로토콜 버전 4(TCP/IPv4) > 특성**을 선택하십시오.
2. **일반 > 다음 IP 주소 사용:**으로 이동하여 사설 IP 주소 및 서브넷 마스크를 입력하고 **확인**을 클릭하십시오.
3. **확인**을 클릭하여 네트워크 구성 창을 닫으십시오. 

DNS 서버를 포함하는 전체 사설 네트워크에 대한 액세스를 제공하려면 서버에 사용자 정의 라우트를 추가해야 합니다. 

1. **시작 > 실행**으로 이동하여 "cmd"를 입력하고 **확인**을 클릭하십시오.
2. 다음 명령을 실행하십시오. **참고:** 게이트웨이 주소(_10.0.0.1_)를 사설 IP 블록 게이트웨이로 대체하십시오.
  * `route add 10.0.0.0 mask 255.0.0.0 10.0.0.1 –p`

## RedHat, Fedora 및 CentOS
{: #redhat-fedora-and-centos}

RedHat, Fedora 및 CentOS에서의 네트워크 구성은 구성 파일을 수동으로 편집하여 수행됩니다. 파일을 수동으로 편집하려면 가상 머신에 로그인해야 합니다.

**예제 공인 IP 블록 – 192.0.2.0/29**

* IP 주소 – 192.0.2.2
* 게이트웨이 – 192.0.2.1
* 서브넷 마스크 – 255.255.255.248

**예제 사설 IP 블록 – 10.0.0.0/29**

* IP 주소 – 10.0.0.2
* 게이트웨이 – 10.0.0.1
* 서브넷 마스크 – 255.255.255.248

**공용 네트워크**

공용 네트워크 설정은 다음 파일에 포함되어 있습니다. 제공된 정보를 사용하여 이 파일을 편집해야 합니다. IP 주소의 예를 공인 IP 블록의 IP 주소로 교체하십시오. 이 파일이 없으면 작성하십시오. 파일이 있는 경우, 파일에 있는 모든 데이터를 다음 정보로 바꾸십시오.
* /etc/sysconfig/network-scripts/ ifcfg-eth1
      DEVICE=eth1
      BOOTPROTO=static
      BROADCAST=192.0.2.7
      IPADDR=192.0.2.2
      NETMASK=255.255.255.248
      NETWORK=192.0.2.0

      GATEWAY=192.0.2.1
      ONBOOT=yes

**사설 네트워크**

사설 네트워크 설정은 다음 파일에 있습니다. 제공된 정보를 사용하여 이 파일을 편집해야 합니다. 예제 IP 주소를 사설 IP 블록에서 올바른 IP 주소로 바꾸십시오. 이 파일이 없으면 작성하십시오. 파일이 존재하는 경우, 파일에 있는 모든 데이터를 다음 정보로 대체하십시오. **참고:** 사설 네트워크는 기본 라우트를 가지지 *않으므로* *게이트웨이*가 정의되어 있지 않습니다.

* /etc/sysconfig/network-scripts/ ifcfg-eth0
      DEVICE=eth0
      BOOTPROTO=static
      IPADDR=10.0.0.2
      NETMASK=255.255.255.248
      ONBOOT=yes

마지막으로 다음 파일을 편집하여 수행되는 DNS 서버를 포함하도록 사설 액세스를 전체 사설 네트워크에 제공하는 데 새 라우트가 필요합니다. 이 파일은 존재하지 않으므로 작성해야 합니다. **참고:** 예에 있는 "10.0.0.1"을 사설 서브넷 IP 게이트웨이로 대체하십시오. 

* /etc/sysconfig/network-scripts/route-eth0
      10.0.0.0/8 via 10.0.0.1

**DNS 구성**

기본 및 보조 DNS 구성은 별도의 파일에 포함되어 있습니다. 다음 정보를 사용하여 파일을 편집해야 합니다. 이 가상 머신이 사설 네트워크에 대한 액세스를 가지지 않을 경우, 서버 IP를 사용하려는 DNS 서버의 IP 주소로 바꿔야 합니다.

* /etc/resolv.conf
      nameserver 10.0.80.11
      nameserver 10.0.80.12

이러한 변경사항을 적용하려면 서버에서 네트워킹을 다시 시작해야 합니다. 다음 명령을 실행하여 네트워킹을 다시 시작할 수 있습니다.

* `service network restart`

## Ubuntu 및 Debian
{: #ubuntu-and-debian}

단일 구성 파일을 통해 Ubuntu 및 Debian 네트워크를 구성합니다. 다음 정보를 사용하여 이 구성 파일을 편집해야 합니다. 이 파일을 편집하려면 서버에 대한 루트 액세스 권한이 있어야 합니다. Ubuntu의 기본 설치는 루트 로그인을 제공하지 않습니다. 그러나 설치 프로세스에서 작성된 사용자는 유사 대상에 액세스할 수 있습니다. Ubuntu를 실행 중인 경우 파일을 편집하려면 유사 명령을 사용해야 합니다.

**예제 공인 IP 블록 – 192.0.2.0/29**

* IP 주소 – 192.0.2.2
* 게이트웨이 – 192.0.2.1
* 서브넷 마스크 – 255.255.255.248

**예제 사설 IP 블록 – 10.0.0.0/29**

·IP 주소 – 10.0.0.2
·게이트웨이 – 10.0.0.1
·서브넷 마스크 – 255.255.255.248

**공용 및 사설 네트워크**

텍스트 편집기로 다음 파일을 편집하고 예제 IP 주소를 공용 및 사설 IP 블록에 있는 IP로 대체하십시오.

* /etc/network/interfaces
      auto lo
      iface lo inet loopback

      auto eth1
      iface eth1 inet static
      address 192.0.2.2
      netmask 255.255.255.248
      gateway 192.0.2.1

      auto eth0
      iface eth0 inet static
      address 10.0.0.2
      netmask 255.255.255.248

      #Static route for backend service network
      up route add -net 10.0.0.0/8 gw 10.0.0.1

**DNS 구성**

기본 및 보조 DNS 구성이 별도의 파일에 포함되어 있습니다. 다음 정보를 사용하여 이 구성 파일을 편집해야 합니다. 이 가상 머신이 사설 네트워크에 대한 액세스를 가지지 않을 경우, 서버 IP를 사용하려는 DNS 서버의 IP 주소로 바꿔야 합니다.

* /etc/resolv.conf
      nameserver 10.0.80.11
      nameserver 10.0.80.12

이러한 변경사항을 적용하기 위해 서버에서 네트워킹을 다시 시작할 수 있습니다. 다음 명령을 실행하여 네트워크를 다시 시작할 수 있습니다.

* */etc/init.d/network restart*

**참고:** 192.0.2.0/24는 RFC1166 및 RFC5737당 공인 IP 문서로 사용됩니다. 서버에서는 이러한 IP 주소를 사용하지 않습니다.
